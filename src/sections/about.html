<!-- ABOUT SECTION (NO TAILWIND, _home.scss 기반) -->
<section id="about" class="hero-carousel hero-bg">

  <!-- 슬라이드 1: 프로필 소개 -->
  <div class="carousel-slide active" id="about-slide-profile">
    <div class="hero-inner">
      <div id="profile-section">

        <!-- 아바타 -->
        <div class="hero-avatar">
          <div id="profile-image" class="hero-avatar__image"></div>
        </div>

        <!-- 이름 / 직함 -->
        <h1 id="profile-name" class="hero-title"></h1>
        <p id="profile-title" class="hero-subtitle"></p>

        <!-- 자기소개 텍스트 -->
        <div id="profile-description" class="hero-description"></div>

        <!-- 하이라이트 태그들 -->
        <div id="profile-highlights" class="hero-tags"></div>

        <!-- 소셜 아이콘 링크 -->
        <div id="social-links" class="hero-socials"></div>
      </div>
    </div>
  </div>

  <!-- 슬라이드 2: 핵심 역량 -->
  <div class="carousel-slide" id="about-slide-skills">
    <div class="hero-inner">
      <div class="hero-skills-card">
        <h3 class="hero-skills-card__title">핵심 역량</h3>
        <div id="skills-core"></div>
      </div>
    </div>
  </div>

  <!-- 슬라이드 3: 자격증 -->
  <div class="carousel-slide" id="about-slide-cert">
    <div class="hero-inner">
      <div class="hero-skills-card">
        <h3 class="hero-skills-card__title">자격증 및 인증</h3>
        <div id="certifications-list" class="hero-cert-list"></div>
      </div>
    </div>
  </div>

  <!-- 캐러셀 네비게이션 -->
  <button class="carousel-nav prev" type="button" aria-label="이전 슬라이드">
    <i class="ri-arrow-left-line"></i>
  </button>
  <button class="carousel-nav next" type="button" aria-label="다음 슬라이드">
    <i class="ri-arrow-right-line"></i>
  </button>

  <!-- 인디케이터 -->
  <div class="carousel-indicators">
    <button class="carousel-indicator active" type="button" aria-label="슬라이드 1"></button>
    <button class="carousel-indicator" type="button" aria-label="슬라이드 2"></button>
    <button class="carousel-indicator" type="button" aria-label="슬라이드 3"></button>
  </div>

</section>

<script>
document.addEventListener("DOMContentLoaded", async () => {
  const res = await fetch("/src/js/data/about.json");
  const data = await res.json();

  const profile        = data.profile || {};
  const highlights     = data.highlights || [];
  const skills         = (data.skills && data.skills.core) || [];
  const certifications = data.certifications || [];
  const socialLinks    = data.socialLinks || [];

  // 프로필 기본 정보

  const profileImageEl = document.getElementById("profile-image");
  if (profileImageEl && profile.profileImage) {
    profileImageEl.style.backgroundImage = `url('${profile.profileImage}')`;
  }

  const profileNameEl = document.getElementById("profile-name");
  if (profileNameEl) {
    profileNameEl.textContent = profile.name || "";
  }

  const profileTitleEl = document.getElementById("profile-title");
  if (profileTitleEl) {
    profileTitleEl.textContent = profile.title || "";
  }

  const profileDescEl = document.getElementById("profile-description");
  if (profileDescEl) {
    if (Array.isArray(profile.description)) {
      profileDescEl.innerHTML = profile.description
        .map(p => `<p>${p}</p>`)
        .join("");
    } else {
      profileDescEl.innerHTML = `<p>${profile.description || ""}</p>`;
    }
  }

  // 하이라이트 태그 (.hero-tag)

  const highlightBox = document.getElementById("profile-highlights");
  if (highlightBox) {
    const variants = [
      "hero-tag--primary",
      "hero-tag--secondary",
      "hero-tag--purple",
      "hero-tag--green"
    ];

    highlights.forEach((text, index) => {
      const span = document.createElement("span");
      const variantClass = variants[index % variants.length];
      span.className = `hero-tag ${variantClass}`;
      span.textContent = text;
      highlightBox.appendChild(span);
    });
  }

  // 소셜 링크 (.hero-socials)

  const socialBox = document.getElementById("social-links");
  if (socialBox) {
    socialLinks.forEach(s => {
      const a = document.createElement("a");
      a.href = s.url;
      a.target = "_blank";
      a.rel = "noopener noreferrer";
      // 스타일은 _home.scss 의 .hero-socials a 에서 처리
      a.innerHTML = `<i class="${s.icon}"></i>`;
      socialBox.appendChild(a);
    });
  }

  // 핵심 역량 (.skill-item + .progress-bar)

  const skillBox = document.getElementById("skills-core");
  if (skillBox) {
    skills.forEach(skill => {
      const wrapper = document.createElement("div");
      wrapper.className = "skill-item";

      wrapper.innerHTML = `
        <div class="skill-header">
          <span class="skill-name">${skill.name}</span>
          <span class="skill-percent">${skill.level}%</span>
        </div>
        <div class="skill-bar">
          <div class="progress-bar" data-width="${skill.level}%"></div>
        </div>
      `;

      skillBox.appendChild(wrapper);
    });
  }

  // 자격증 리스트 (.hero-cert-item)

  const certBox = document.getElementById("certifications-list");
  if (certBox) {
    const variants = [
      "hero-cert-item--primary",
      "hero-cert-item--secondary",
      "hero-cert-item--purple",
      "hero-cert-item--green"
    ];

    certifications.forEach((cert, index) => {
      const item = document.createElement("div");
      const variantClass = variants[index % variants.length];

      item.className = `hero-cert-item ${variantClass}`;
      item.innerHTML = `
        <i class="ri-award-line"></i>
        <div class="hero-cert-item__info">
          <div class="hero-cert-item__title">${cert.name}</div>
          <div class="hero-cert-item__org">${cert.issuer} · ${cert.year}</div>
        </div>
      `;

      certBox.appendChild(item);
    });
  }
});
</script>
