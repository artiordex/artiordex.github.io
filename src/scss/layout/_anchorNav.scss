@use "../abstracts/variables" as *;

// =============================================================================
// PC 사이드 네비게이션 (Side Navigation)
// - 화면 우측에 고정된 세로 네비게이션
// - 1024px 이하에서는 숨김 (모바일 네비게이션으로 대체)
// =============================================================================

.side-nav {
  position: fixed;              // 화면에 고정
  right: 16px;                  // 오른쪽에서 16px (24px → 16px로 슬림하게)
  top: 50%;                     // 세로 중앙
  transform: translateY(-50%);  // 정확한 세로 중앙 정렬
  z-index: 100;                 // 다른 요소들 위에 표시

  // 태블릿/모바일에서 숨김 (모바일 네비게이션 사용)
  @media (max-width: 1024px) {
    display: none;
  }

  // ----- 네비게이션 목록 컨테이너 -----
  ul {
    list-style: none;                           // 기본 불릿 제거
    padding: 0;
    margin: 0;
    background: rgba(255, 255, 255, 0.9);       // 반투명 흰색 배경
    backdrop-filter: blur(12px);                // 배경 블러 효과 (글래스모피즘)
    -webkit-backdrop-filter: blur(12px);        // Safari 지원
    border-radius: 24px;                        // 둥근 모서리 (32px → 24px로 슬림하게)
    padding: 8px;                               // 내부 여백 (12px → 8px로 슬림하게)
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);  // 부드러운 그림자
  }

  // ----- 개별 메뉴 항목 -----
  li {
    margin: 4px 0;              // 항목 간격 (8px → 4px로 슬림하게)
  }

  // ----- 네비게이션 링크 -----
  .side-nav-link {
    width: 36px;                // 버튼 크기 (44px → 36px로 슬림하게)
    height: 36px;
    display: flex;
    align-items: center;        // 세로 중앙 정렬
    justify-content: center;    // 가로 중앙 정렬
    border-radius: 50%;         // 원형
    cursor: pointer;
    transition: all 0.25s ease; // 부드러운 전환 효과
    text-decoration: none;      // 밑줄 제거
    color: #666;                // 기본 아이콘 색상
    background: transparent;    // 기본 배경 투명

    // 아이콘 스타일
    i {
      font-size: 16px;          // 아이콘 크기 (20px → 16px로 슬림하게)
      transition: all 0.25s ease;
    }

    // 호버 상태
    &:hover {
      background: rgba(139, 92, 246, 0.1);  // 연한 보라색 배경
      color: #8B5CF6;                        // 보라색 아이콘
      transform: scale(1.05);                // 살짝 확대
    }

    // 활성 상태 (현재 섹션)
    &.active {
      background: #8B5CF6;      // 보라색 배경
      color: white;             // 흰색 아이콘
      
      i {
        transform: scale(1.1);  // 아이콘 살짝 확대
      }
    }
  }
}

// =============================================================================
// 사이드 네비게이션 툴팁 (Side Nav Tooltip)
// - 호버 시 왼쪽에 라벨 표시
// =============================================================================

.side-nav .side-nav-link {
  position: relative;           // 툴팁 위치 기준점

  // 툴팁 (가상 요소로 생성)
  &::before {
    content: attr(aria-label);  // aria-label 속성값을 텍스트로 사용
    position: absolute;
    right: 120%;                // 링크 왼쪽에 표시
    top: 50%;
    transform: translateY(-50%);
    background: #333;           // 어두운 배경
    color: white;
    padding: 4px 8px;
    border-radius: 4px;
    font-size: 11px;            // 작은 폰트 (12px → 11px)
    white-space: nowrap;        // 줄바꿈 방지
    opacity: 0;                 // 기본적으로 숨김
    pointer-events: none;       // 클릭 이벤트 무시
    transition: opacity 0.2s;
  }

  // 호버 시 툴팁 표시
  &:hover::before {
    opacity: 1;
  }
}

// =============================================================================
// 모바일 하단 네비게이션 (Mobile Bottom Navigation)
// - 화면 하단에 고정된 가로 네비게이션
// - 1024px 이하에서만 표시
// =============================================================================

.mobile-nav {
  display: none;                // 기본적으로 숨김 (PC)

  // 태블릿/모바일에서만 표시
  @media (max-width: 1024px) {
    display: flex;              // flex로 변경 (내부 정렬용)
    justify-content: center;    // ★ 가로 중앙 정렬
    position: fixed;            // 화면에 고정
    bottom: 16px;               // 하단에서 16px
    left: 0;                    // ★ 왼쪽 0
    right: 0;                   // ★ 오른쪽 0
    z-index: 100;               // 다른 요소들 위에 표시
    pointer-events: none;       // 컨테이너는 클릭 통과
  }

  // ----- 네비게이션 목록 컨테이너 -----
  ul {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;                              // 가로 배치 (플렉스박스)
    align-items: center;
    gap: 4px;                                   // 항목 간격
    background: rgba(255, 255, 255, 0.95);      // 반투명 흰색 배경
    backdrop-filter: blur(12px);                // 배경 블러 효과
    -webkit-backdrop-filter: blur(12px);
    border-radius: 9999px;                      // 완전히 둥근 모서리 (pill 형태)
    padding: 8px 12px;                          // 내부 여백
    box-shadow: 0 4px 24px rgba(0, 0, 0, 0.15); // 그림자 (떠있는 느낌)
    pointer-events: auto;                       // ★ ul은 클릭 가능하게
  }

  // ----- 개별 메뉴 항목 -----
  li {
    margin: 0;                  // 마진 제거 (gap으로 간격 처리)
  }

  // ----- 네비게이션 링크 -----
  .mobile-nav-link {
    width: 40px;                // 버튼 크기
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;         // 원형
    cursor: pointer;
    transition: all 0.25s ease;
    text-decoration: none;
    color: #666;                // 기본 아이콘 색상
    background: transparent;

    // 아이콘 스타일
    i {
      font-size: 18px;          // 아이콘 크기
      transition: all 0.25s ease;
    }

    // 호버/터치 상태
    &:hover,
    &:active {
      background: rgba(139, 92, 246, 0.1);
      color: #8B5CF6;
    }

    // 활성 상태 (현재 섹션)
    &.active {
      background: #8B5CF6;      // 보라색 배경
      color: white;             // 흰색 아이콘
      
      i {
        transform: scale(1.1);  // 아이콘 살짝 확대
      }
    }
  }
}

// =============================================================================
// 추가 반응형 조정 (Extra Responsive Adjustments)
// =============================================================================

// 작은 모바일 화면 (480px 이하)
@media (max-width: 480px) {
  .mobile-nav {
    ul {
      padding: 4px 6px;         // 패딩 더 축소
      gap: 1px;
    }

    .mobile-nav-link {
      width: 28px;           
      height: 28px;

      i {
        font-size: 12px;    
      }
    }
  }
}